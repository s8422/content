---
# -------------------------------------------------------------------------------------------------------------------- #
# GENERAL
# -------------------------------------------------------------------------------------------------------------------- #

title: 'LVM: Расширение томов'
description: ''
icon: 'far fa-file-lines'
categories:
  - 'lvm'
tags:
  - 'lvm'
  - 'pvresize'
  - 'lvextend'
  - 'xfs_growfs'
authors:
  - 'KaiKimera'
sources:
  - ''
license: 'CC-BY-SA-4.0'
complexity: '0'
toc: 1
comments: 1

# -------------------------------------------------------------------------------------------------------------------- #
# DATE
# -------------------------------------------------------------------------------------------------------------------- #

date: '2026-02-12T11:55:35+03:00'
publishDate: '2026-02-12T11:55:35+03:00'
lastMod: '2026-02-12T11:55:35+03:00'

# -------------------------------------------------------------------------------------------------------------------- #
# META
# -------------------------------------------------------------------------------------------------------------------- #

type: 'articles'
hash: '54e17786d28dc5880b23452b13500fd52240a3ec'
uuid: '54e17786-d28d-5588-ab23-452b13500fd5'
slug: '54e17786-d28d-5588-ab23-452b13500fd5'

draft: 0
---

Расширение логических томов {{< tag "LVM" >}}.

<!--more-->

## Экспорт параметров

- Экспортировать заранее подготовленные общие параметры в переменные окружения:

```bash
export PV='/dev/sdb'; export VG='data'; export LV='documents'; FS='ext4'
```

### Параметры

- `PV='/dev/sdb'` - имя физического тома (PV).
- `VG='data'` - имя группы логических томов (VG).
- `LV='documents'` - имя логического тома (LV).
- `FS='ext4'` - файловая система, используемая на логическом томе (LV).

## Увеличение физического тома

- Провести сканирование указанного устройства на предмет изменённых параметров (в данном случае, размер диска) и увеличить физический том `/dev/sdb`:

```bash
echo 1 > "/sys/block/${PV##*/}/device/rescan" && pvresize "${PV}"
```

## Увеличение логического раздела

- Увеличить размер логического раздела `documents` в группе томов `data` диска `/dev/sdb` на `8 GB` и расширить файловую систему `ext4`:

```bash
size='+8G'; pvresize "${PV}" && lvextend -L "${size}" "/dev/${VG}/${LV}" && { if [[ "${FS}" == 'xfs' ]]; then xfs_growfs -d "/dev/${VG}/${LV}"; else resize2fs "/dev/${VG}/${LV}"; fi; }
```

- Увеличить размер логического раздела `documents` в группе томов `data` диска `/dev/sdb` на максимально возможный и расширить файловую систему `ext4`:

```bash
size='+100%FREE'; pvresize "${PV}" && lvextend -l "${size}" "/dev/${VG}/${LV}" && { if [[ "${FS}" == 'xfs' ]]; then xfs_growfs -d "/dev/${VG}/${LV}"; else resize2fs "/dev/${VG}/${LV}"; fi; }
```
